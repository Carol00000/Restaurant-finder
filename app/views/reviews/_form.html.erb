<%= form_with(model: [restaurant, review], local: true, class: "space-y-4") do |form| %>
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
    <div class="star-rating flex space-x-1" data-rating="<%= review.rating || 0 %>">
      <% (1..5).each do |i| %>
        <%= form.radio_button :rating, i, class: "hidden", id: "rating_#{i}" %>
        <span class="star text-2xl cursor-pointer text-gray-300 hover:text-yellow-400" data-rating="<%= i %>">â˜†</span>
      <% end %>
    </div>
  </div>

  <div>
    <%= form.label :comment, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_area :comment, rows: 4, class: "w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500", placeholder: "Share your experience..." %>
  </div>

  <div class="flex space-x-4">
    <%= form.submit review.persisted? ? "Update Review" : "Submit Review", class: "bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
    
    <% if review.persisted? %>
      <%= link_to "Delete Review", [restaurant, review], method: :delete, 
                  confirm: "Are you sure you want to delete this review?",
                  class: "bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
    <% end %>
  </div>
<% end %>